# AI Engine 操作指南

## 🚀 快速啟動

本專案提供三個批次檔來管理 AI 引擎服務：

# AI Engine 操作指南

## � 部署方式選擇

本專案提供兩種部署方式，請根據需求選擇：

### 🐳 Docker 容器化部署（推薦）
**適合**: 快速部署、生產環境、跨平台使用

| 檔案 | 功能 | 說明 |
|------|------|------|
| `docker-start.bat` | 🟢 啟動容器 | 一鍵啟動完整 AI 引擎環境 |
| `docker-stop.bat` | 🔴 停止容器 | 停止所有容器並清理資源 |
| `docker-restart.bat` | 🔄 重啟容器 | 重啟所有服務 |
| `install-docker.bat` | 🛠️ 安裝輔助 | 協助安裝 Docker Desktop |

### 🖥️ 傳統本地部署  
**適合**: 開發偵錯、自訂配置、學習研究

| 檔案 | 功能 | 說明 |
|------|------|------|
| `start-all.bat` | 🟢 啟動服務 | 啟動後端 FastAPI 和前端 Spring Boot 服務，並自動開啟瀏覽器 |
| `stop-all.bat` | 🔴 停止服務 | 優雅地關閉所有 AI 引擎相關服務 |
| `restart-all.bat` | 🔄 重啟服務 | 先停止再啟動所有服務（等同於先執行 stop-all 再執行 start-all） |

### 🎯 使用方式

#### Docker 部署（推薦新手）:
1. **安裝 Docker**:
   ```batch
   .\install-docker.bat
   ```

2. **一鍵啟動**:
   ```batch
   .\docker-start.bat
   ```

3. **停止服務**:
   ```batch
   .\docker-stop.bat
   ```

#### 傳統部署:
1. **首次啟動**：
   ```batch
   .\start-all.bat
   ```

2. **重新啟動**：
   ```batch
   .\restart-all.bat
   ```

3. **停止服務**：
   ```batch
   .\stop-all.bat
   ```

### 🌐 服務端點

- **前端界面**：http://127.0.0.1:8080
- **後端 API**：http://127.0.0.1:8000
- **API 文檔**：http://127.0.0.1:8000/docs

### 🔧 系統需求

- **Java 21** (OpenJDK)
- **Python 3.12+** (含虛擬環境)
- **Maven 3.9+** 或 Maven Wrapper
- **Ollama** (AI 模型服務)

### ⚡ 功能特色

- **一鍵操作** - 所有服務的啟動/停止都只需要一個命令
- **自動檢測** - 自動檢測並配置 Java、Maven、Python 環境
- **健康檢查** - 啟動時自動檢查服務健康狀態
- **自動開啟瀏覽器** - 服務就緒後自動打開前端界面
- **聊天室界面** - 現代化的 AI 對話界面，記錄所有對話歷史
- **RAG 支援** - 內建知識庫管理功能

### 🛠️ 故障排除

1. **服務無法啟動**：
   - 檢查端口 8000 和 8080 是否被其他程式佔用
   - 確認 Java 21、Python 虛擬環境、Ollama 都已正確安裝

2. **前端無法連接後端**：
   - 使用 `restart-all.bat` 重新啟動所有服務
   - 檢查防火牆設定

3. **AI 無回應**：
   - 確認 Ollama 服務正在運行
   - 檢查是否已下載所需的 AI 模型

### 📝 更新日誌

- **2025-10-14**：
  - ✅ 升級到 Java 21 LTS
  - ✅ 改善聊天室界面設計
  - ✅ 新增 restart-all.bat 腳本
  - ✅ 優化啟動/停止邏輯
  - ✅ 新增自動開啟瀏覽器功能

---

🎉 **現在您可以使用 `restart-all.bat` 來快速重啟整個 AI 引擎系統！**